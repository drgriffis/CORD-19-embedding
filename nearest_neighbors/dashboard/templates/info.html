{% import 'macros.html' as macros %}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ query_key }} Information</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='shared.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='info.css') }}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='info.js') }}"></script>
</head>
<body id="info">
    {{ macros.searchPanel() }}
    <div id="info_panel" class="container">
        <h1>{{ query_key }} {{ preferred_term }}</h1>
        <div id="termListPanel">
            Other terms
            <ul>
                {% for term in all_terms %}
                <li>{{ term }}</li>
                {% endfor %}
            </ul>
        </div>
        <div id="confidencePanel">
            {{ macros.showInternalConfidenceAnalysis(confidence_analysis_base64) }}
        </div>
    </div>
    <div id="tables_panel" class="container">
        <div class="container">
            {% for table in tables %}
            {% if table.IsGridRowStart %}
            <div class="row">
            {% endif %}
                <div class="col-sm-4 nn_table">
                    <h4>{{ table.Corpus }}</h4>
                    <h5>Confidence: {{ table.Confidence }}</h5>
                    <table class="table table-striped">
                        <thead class="thead-dark">
                            <tr>
                                <th>Neighbor</th>
                                <th>Distance</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in table.Rows %}
                            <tr>
                                <td>
                                    <a href="/info/{{ row.NeighborKey }}">
                                        {{ row.NeighborKey }} <i>{{ row.NeighborString }}</i>
                                    </a>
                                </td>
                                <td>{{ row.Distance }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% if table.IsGridRowEnd %}
            </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</body>
</html>
