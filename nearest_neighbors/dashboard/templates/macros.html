{% macro showEntityChangeAnalysis(base64_data) -%}
    <img class="entity_change_analysis" src="data:image/png;base64,{{ base64_data }}" />
{%- endmacro %}

{% macro showPairwiseSimilarityAnalysis(base64_data) -%}
<div class="container similarity_panel">
    <h4>Similarity over time</h4>
    <img class="pairwise_simliarity_analysis" src="data:image/png;base64,{{ base64_data }}" />
</div>
{%- endmacro %}

{% macro showInternalConfidenceAnalysis(base64_data) -%}
    <img class="internal_confidence_analysis" src="data:image/png;base64,{{ base64_data }}" />
{%- endmacro %}

{% macro searchPanel() -%}
    <div id="search_panel" class=="container">
        <form class="navbar-form" role="search" action="{{ url_for('search') }}" method="POST">
            <div class="input-group">
                <input type="search" name="query" id="query" placeholder="Search" class="form-control">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-default">
                        <img src="/static/images/magnifying-glass.png" />
                        <span class="glyphicon glyphicon-search">
                            <span class="sr-only">Search</span>
                        </span>
                    </button>
                </span>
            </div>
        </form>
    </div>
{%- endmacro %}

{% macro tablesPanel(tables, as_single_row) -%}
    {% if as_single_row %}
    <div class="tables_panel single_row">
    {% else %}
    <div class="tables_panel container">
        <div class="container">
    {% endif %}
            {% for table in tables %}
            {% if table.IsGridRowStart %}
            {% if as_single_row %}{% else %}<div class="row">{% endif %}
            {% endif %}
                <div class="col-sm-4 nn_table">
                    <h4>{{ table.Corpus }}</h4>
                    <h5>Confidence: {{ table.Confidence }}</h5>
                    <table class="table
                    {% if table.Class == 'low_confidence' %}
                        table-warning
                        table-hover
                    {% elif table.Class == 'high_confidence' %}
                        table-striped
                        table-hover
                    {% else %}
                    {% endif %}
                    ">
                        <thead class="
                        {% if table.Class == 'high_confidence' %}
                            thead-dark
                        {% endif %}">
                            <tr>
                                <th>Neighbor</th>
                                <th>Distance</th>
                            </tr>
                        </thead>
                        {% if table.Class == 'no_data' %}
                        <tbody>
                            <tr><td class="no_data_cell" colspan="2" rowspan="{{ table.NumRows }}">No data</td></tr>
                        </tbody>
                        {% else %}
                        <tbody>
                            {% for row in table.Rows %}
                            <tr>
                                <td>
                                    <span class="table_row_label">
                                    <a href="/info/{{ row.NeighborKey }}">
                                        {{ row.NeighborKey }} <i>{{ row.NeighborString }}</i>
                                    </a>
                                    </span>
                                </td>
                                <td>{{ row.Distance }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        {% endif %}
                    </table>
                </div>
            {% if table.IsGridRowEnd %}
            {% if as_single_row %}{% else %}</div>{% endif %}
            {% endif %}
            {% endfor %}
        {% if as_single_row %}
        {% else %}
        </div>
        {% endif %}
    </div>
{%- endmacro %}
